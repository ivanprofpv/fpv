<div class="post_content">
  <% if user_signed_in? %>
    <div class="container">
      <div class="row d-flex justify-content-center align-items-center">
        <div class="col-12 col-md-9 col-lg-7 col-xl-9">
            <div class="card-body p-5">
              <h2 class="text-uppercase text-center mb-5">Build drone</h2>

                <%= form_with model: @drone, local: false do |f| %>
                <div class="drone-errors">
                  <%= render 'shared/errors', resource: @drone %>
                </div>

                <div class="form-floating mb-5">
                  <%= f.text_area :title, class: "form-control", placeholder: "Title", id: "floatingTextarea" %>
                  <label for="floatingTextarea">Title</label>
                </div>

                <div class="input-group mb-5">
                  <label class="input-group-text" for="inputGroupFile01">Upload logo</label>
                  <%= f.file_field :foto, class: "form-control", id: "inputGroupFile01"%>
                </div>

                <div class="input-group mb-5">
                  <label class="input-group-text" for="inputGroupFile01">Upload gallery</label>
                  <%= f.file_field :gallerys, multiple: true, class: "form-control", id: "inputGroupFile01"%>
                </div>

                <div class="input-group mb-5">
                  <label class="input-group-text" for="inputGroupSelect01">Select a category</label>
                  <%= f.collection_select :category_id, Category.all, :id, :title, { prompt: true }, class: "form-select", id: "inputGroupSelect01" %>
                </div>

                <div class="mb-5">
                  <%= f.rich_text_area :content, class: "form-control", placeholder: "Description of your drone build", id: "floatingTextarea" %>
                </div>

                <div class="input-group mb-5">
                  <p><strong>Describe the components of a drone build:</strong></p>
                    <div class="row g-2">
                      <%= f.fields_for :components do |c| %>
                      <div class="col-3">
                        <%= c.collection_select(:component_category_id, ComponentCategory.all, :id, :title,
                                               {prompt: "Select One"}, class: "form-select", id: "autoSizingSelect") %>
                      </div>
                      <div class="col-3">
                        <%= c.text_field :title, class: "form-control", placeholder: "Name component" %>
                      </div>
                      <div class="col-3">
                        <%= c.text_field :url, class: "form-control", placeholder: "Url component" %>
                      </div>
                      <div class="col-3">
                        <%= c.text_field :price, class: "form-control", placeholder: "Price component" %>
                      </div>
                      <% end %>
                    </div>  
                   </div>
                <div class="d-grid gap-2">
                  <%= f.submit "Build drone", class: 'btn btn-info btn-lg' %>
                </div> 
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>


